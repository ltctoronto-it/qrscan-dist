(function(e){function t(t){for(var a,o,i=t[0],c=t[1],l=t[2],v=0,d=[];v<i.length;v++)o=i[v],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&d.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(d.length)d.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,i=1;i<r.length;i++){var c=r[i];0!==n[c]&&(a=!1)}a&&(s.splice(t--,1),e=o(o.s=r[0]))}return e}var a={},n={app:0},s=[];function o(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=a,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(r,a,function(t){return e[t]}.bind(null,a));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("d3b7");var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-sheet",{staticClass:"text-center",attrs:{height:"130px"}},[r("v-container",{staticClass:"fill-height"},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",[r("h3",{staticClass:"subtitle-1"},[e._v(" "+e._s(e.msg)+" ")]),r("h5",{staticClass:"body teal--text"},[e._v(" "+e._s(e.ClassDayTag)+" ")])])],1)],1)],1),r("v-sheet",{staticClass:"text-center",attrs:{height:"400px"}},[r("h5",{staticStyle:{"padding-bottom":"25px"}},[e._v(" Please enter the following information to proceed ")]),r("validation-observer",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(t){var a=t.invalid;return[r("v-row",{attrs:{"align-content":"center",justify:"center"}},[r("v-form",{on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[r("validation-provider",{attrs:{name:"Name",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("v-text-field",{attrs:{"error-messages":a,label:"Your first name",required:"",clearable:""},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}})]}}],null,!0)}),r("validation-provider",{attrs:{name:"Name",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("v-text-field",{attrs:{"error-messages":a,label:"Your last name",required:"",clearable:""},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}})]}}],null,!0)}),r("validation-provider",{attrs:{name:"event",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("v-select",{attrs:{items:e.items,"error-messages":a,label:"Event you are scanning for","data-vv-name":"event",required:""},model:{value:e.recordedEvent,callback:function(t){e.recordedEvent=t},expression:"recordedEvent"}})]}}],null,!0)}),r("validation-provider",{attrs:{name:"Enable camera",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("v-radio-group",{attrs:{"error-messages":a,required:""},scopedSlots:e._u([{key:"label",fn:function(){return[r("div",[e._v("Do you want to enable camera")])]},proxy:!0}],null,!0),model:{value:e.enableCamera,callback:function(t){e.enableCamera=t},expression:"enableCamera"}},[r("v-radio",{attrs:{label:"Yes",color:"green",value:"yes"}}),r("v-radio",{attrs:{label:"No",color:"red",value:"no"}})],1)]}}],null,!0)}),r("v-row",{attrs:{align:"end",justify:"end"}},[r("v-btn",{staticClass:"mr-4",attrs:{type:"submit",color:"green",disabled:a}},[e._v(" submit ")])],1)],1)],1)]}}])})],1)],1)},n=[],s=r("5530"),o=(r("b0c0"),r("4c93")),i=r("7bb1"),c=r("5880");Object(i["d"])("eager"),Object(i["c"])("required",Object(s["a"])(Object(s["a"])({},o["b"]),{},{message:"{_field_} can not be empty"}));var l={components:{ValidationProvider:i["b"],ValidationObserver:i["a"]},data:function(){return{msg:"Welcome to "+this.$config.App.name,firstName:"",lastName:"",recordedEvent:"",enableCamera:"true",items:this.$config.App.events}},computed:Object(s["a"])({},Object(c["mapState"])(["ClassDayTag"])),methods:{validateSubmit:function(){this.$refs.observer.validate()},submit:function(){this.$store.commit("setRecorderName",this.firstName+" "+this.lastName),this.$store.commit("setRecorderEvent",this.recordedEvent),this.$store.commit("setCameraEnabled",this.enableCamera),this.$router.push("confirm")}}},u=l,v=r("2877"),d=Object(v["a"])(u,a,n,!1,null,"0ce1bfae",null),f=d.exports,m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-sheet",{staticClass:"text-center",attrs:{height:"130px"}},[r("v-container",{staticClass:"fill-height"},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",[r("h3",{staticClass:"subtitle-1"},[e._v(" Please confirm the following information ")]),r("h5",{staticClass:"body teal--text"},[e._v(" "+e._s(e.ClassDayTag)+" ")])])],1)],1)],1),r("v-sheet",{staticClass:"text-center",attrs:{height:"200px"}},[r("v-container",{staticClass:"fill-height"},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-simple-table",[r("tbody",[r("tr",[r("td",{staticClass:"title"},[e._v(" Name: ")]),r("td",{staticClass:"title"},[e._v(" "+e._s(e.RecorderName)+" ")])]),r("tr",[r("td",{staticClass:"title"},[e._v(" Event: ")]),r("td",{staticClass:"title"},[e._v(" "+e._s(e.RecordedEvent)+" ")])])])])],1)],1)],1),r("v-sheet",[r("v-container",[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-btn",{staticClass:"mr-4",attrs:{color:"green"},on:{click:e.confirm}},[e._v(" Start Scanning ")]),r("v-btn",{staticClass:"mr-4",attrs:{color:"orange"},on:{click:e.gohome}},[e._v(" Go Back ")])],1)],1)],1)],1)},p=[],h={computed:Object(s["a"])({},Object(c["mapState"])(["ClassDayTag","RecorderName","RecordedEvent"])),methods:{confirm:function(){this.$router.push("scan")},gohome:function(){this.$router.push("/")}}},b=h,g=Object(v["a"])(b,m,p,!1,null,null,null),y=g.exports,w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-sheet",{staticClass:"text-center",attrs:{height:"100px"}},[r("v-container",{staticClass:"fill-height"},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",[r("h3",{staticClass:"subtitle-1"},[e._v(" "+e._s(e.RecorderName)+" is now recording "),r("span",{staticClass:"teal--text"},[e._v(" "+e._s(e.RecordedEvent)+" ")])]),r("h5",{staticClass:"body teal--text"},[e._v(" "+e._s(e.ClassDayTag)+" ")])])],1)],1)],1),"yes"===e.CameraEnabled?r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"2"}}),r("v-col",[r("qrcode-stream",{attrs:{camera:e.camera},on:{decode:e.onDecode,init:e.onInit}})],1),r("v-col",{attrs:{cols:"2"}})],1):e._e(),r("v-container",[r("validation-observer",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(t){var a=t.invalid;return[r("v-form",{on:{submit:function(t){return t.preventDefault(),e.logScanToBackEnd.apply(null,arguments)}}},[r("v-container",{staticClass:"fill-height"},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",[r("validation-provider",{attrs:{name:"LTC number",rules:e.ltc_rules},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:"#######",expression:"'#######'"}],attrs:{label:"LTC number","error-messages":a,"persistent-hint":"",hint:"Type in LTC number if scan fails",required:"",inputmode:"numeric",clearable:""},model:{value:e.ltc,callback:function(t){e.ltc=t},expression:"ltc"}})]}}],null,!0)})],1)],1),r("v-row",{attrs:{align:"center",justify:"center"}},[r("table",[r("tbody",[r("tr",[r("td",[r("v-btn",{staticClass:"mr-4",attrs:{type:"submit",disabled:a,color:"green"}},[e._v(" Upload LTC ")])],1),r("td",[r("v-btn",{staticClass:"mr-4",attrs:{color:"orange"},on:{click:function(t){e.turnCameraOff(),e.showQuitDialog=!0}}},[e._v(" Quit ")])],1)])])])])],1)],1)]}}])}),r("v-dialog",{attrs:{"hide-overlay":"",persistent:"",fullscreen:"",transition:"dialog-bottom-transition"},model:{value:e.showQuitDialog,callback:function(t){e.showQuitDialog=t},expression:"showQuitDialog"}},[r("v-sheet",{attrs:{height:"100px",color:"primary"}}),r("v-card",{staticClass:"text-center",attrs:{color:"primary"}},[r("v-card-text",[r("h1",{staticClass:"display-1 yellow--text"},[e._v(" Are you sure you want to stop scanning now? ")])]),r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",[r("v-btn",{staticClass:"mt-5",attrs:{color:"orange"},on:{click:e.gohome}},[e._v(" Stop Scanning ")]),r("v-btn",{staticClass:"mt-5",attrs:{color:"green"},on:{click:function(t){e.turnCameraOn(),e.showQuitDialog=!1}}},[e._v(" Keep Scanning ")])],1)],1)],1)],1),r("v-overlay",{attrs:{value:e.showOverlay}},[r("v-container",[r("v-row",{attrs:{align:"center",justify:"space-around"}},[r("v-container",[r("h1",{staticClass:"display-5 text--darken-2 text-center"},[e._v(" "+e._s(e.overlayMsg)+" ")]),r("v-row",{staticClass:"mt-2",attrs:{align:"center",justify:"space-around"}},[e.showProgressInOverlay?r("v-progress-circular",{staticClass:"mt-2",attrs:{indeterminate:"",size:"64"}}):e._e()],1)],1)],1),r("v-row",{attrs:{align:"center",justify:"space-around"}},[e.showButtonInOverlay?r("v-btn",{staticClass:"mt-4",attrs:{color:"primary"},on:{click:e.overlayButtonClickEventFunction}},[e._v(" "+e._s(e.overlayButtonMsg)+" ")]):e._e()],1)],1)],1)],1)],1)},_=[],C=r("1da1"),O=(r("96cf"),r("4d63"),r("ac1f"),r("25f0"),r("3a60")),x=r("1e5c"),j=r("bb6f");Object(i["d"])("aggressive"),Object(i["c"])("between",Object(s["a"])(Object(s["a"])({},o["a"]),{},{message:"{_field_} is not valid!"})),Object(i["c"])("required",Object(s["a"])(Object(s["a"])({},o["b"]),{},{message:"{_field_} can not be empty"}));var k={components:{ValidationProvider:i["b"],ValidationObserver:i["a"],QrcodeStream:j["QrcodeStream"]},directives:{mask:O["mask"]},data:function(){return{ltc:"",ltc_rules:"required|between:"+this.$config.App.ltc_range.min+","+this.$config.App.ltc_range.max,cameraPresent:!1,camera:"auto",ltc_scan_regex:new RegExp("\\d{7}$"),sound:new x["Howl"]({src:[this.$config.App.scanner_sound]}),showOverlay:!1,overlayMsg:"",showQuitDialog:!1,showProgressInOverlay:!0,showButtonInOverlay:!1,overlayButtonMsg:""}},computed:Object(s["a"])({},Object(c["mapState"])(["RecorderName","ClassDayTag","RecordedEvent","CameraEnabled"])),methods:{logScanToBackEnd:function(){var e=this;this.turnCameraOff();var t=new FormData;t.append("recorder name",this.RecorderName),t.append("class day #",this.ClassDayTag),t.append("event",this.RecordedEvent),t.append("ltc",this.ltc),this.overlayMsg="Uploading...",this.showProgressInOverlay=!0,this.showButtonInOverlay=!1,this.showOverlay=!0,fetch(this.$config.Google.formURL,{method:"POST",body:t}).then((function(t){t.ok&&200===t.status?(e.clearLTC(),e.overlayMsg="Success!",e.showProgressInOverlay=!1,e.showButtonInOverlay=!0,e.overlayButtonMsg="Scan Next One"):(e.overlayMsg="An error occurred, click OK and try submitting again",e.showProgressInOverlay=!1,e.showButtonInOverlay=!0,e.overlayButtonMsg="OK")}))},clearLTC:function(){var e=this;return Object(C["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.ltc="",t.next=3,e.$refs.observer.validate();case 3:e.$refs.observer.reset();case 4:case"end":return t.stop()}}),t)})))()},overlayButtonClickEventFunction:function(){this.showOverlay=!1,this.cameraPresent&&this.turnCameraOn()},onDecode:function(e){this.ltc=this.ltc_scan_regex.exec(e)[0],this.playBeepSound()},onInit:function(e){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e;case 3:t.cameraPresent=!0,r.next=14;break;case 6:r.prev=6,r.t0=r["catch"](0),t.cameraPresent=!1,t.overlayMsg="An error occurred when initializing your camera.  You can still enter the LTC number by hand.",t.showProgressInOverlay=!1,t.showButtonInOverlay=!0,t.overlayButtonMsg="OK",t.showOverlay=!0;case 14:case"end":return r.stop()}}),r,null,[[0,6]])})))()},gohome:function(){this.$router.push("/")},playBeepSound:function(){this.sound.play()},turnCameraOn:function(){this.camera="auto"},turnCameraOff:function(){this.camera="off"}}},S=k,E=Object(v["a"])(S,w,_,!1,null,null,null),D=E.exports,N=r("8bbf"),R=r("6389"),T=[{path:"/",name:"home",component:f},{path:"/confirm",name:"confirm",component:y},{path:"/scan",name:"scan",component:D}];N.use(R);var $=new R({routes:T}),P=$,B=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-main",[r("router-view")],1)],1)},M=[],I={},q=Object(v["a"])(I,B,M,!1,null,null,null),A=q.exports,Q=r("8bbf"),L=r("5880");Q.use(L);var V=new L.Store({state:{RecorderName:"",RecordedEvent:"",ClassDayTag:"unknown",CameraEnabled:""},mutations:{setRecorderName:function(e,t){e.RecorderName=t},setRecorderEvent:function(e,t){e.RecordedEvent=t},setClassDayTag:function(e,t){e.ClassDayTag=t},setCameraEnabled:function(e,t){e.CameraEnabled=t}}}),K=(r("bf40"),r("5363"),r("8bbf")),Y=r("a2c9");K.use(Y);var F={},U=new Y(F),z=r("8bbf");z.config.productionTip=!1,fetch("./config.json").then((function(e){return e.json()})).then((function(e){z.prototype.$config=e;var t=new z({el:"#app",router:P,store:V,vuetify:U,render:function(e){return e(A)}});t.$mount("#app");var r=(new Date).toDateString();for(var a in e.App.daytags)if(new Date(a).toDateString()===r){t.$store.commit("setClassDayTag",e.App.daytags[a]);break}}))},5880:function(e,t){e.exports=Vuex},6389:function(e,t){e.exports=VueRouter},"8bbf":function(e,t){e.exports=Vue},a2c9:function(e,t){e.exports=Vuetify}});
//# sourceMappingURL=app.ad6399fb.js.map